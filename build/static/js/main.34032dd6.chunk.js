(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(e,t,a){},16:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),s=a(8),c=a.n(s),l=(a(15),a(1)),o=a(2),u=a(4),i=a(3),h=a(5),m=a(6),p=function(e){function t(){var e,a;Object(l.a)(this,t);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(a=Object(u.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(n)))).state={query:"",queryClass:""},a.setQuery=function(e){a.setState({query:e})},a.setFetch=function(e){a.setState({queryClass:e})},a}return Object(h.a)(t,e),Object(o.a)(t,[{key:"getSearchResults",value:function(e){var t=this;e.preventDefault();var a=this.state.query,r=this.state.queryClass;fetch("https://swapi.co/api/".concat(r,"/?search=").concat(a)).then(function(e){if(!e.ok)throw"error";return e.json()}).then(function(e){return t.props.searchResults(e.results)}).catch(function(e){throw new Error("we cannot get the fetch")})}},{key:"render",value:function(){var e=this;return n.a.createElement("div",{className:"searchForm"},n.a.createElement("form",{onSubmit:function(t){return e.getSearchResults(t)}},n.a.createElement("label",{htmlFor:"searchQuery"},"Search the Cosmos"),n.a.createElement("br",null),n.a.createElement("input",{type:"text",placeholder:"Type a query",name:"searchName",onChange:function(t){return e.setQuery(t.target.value)}}),n.a.createElement("select",{onChange:function(t){return e.setFetch(t.target.value)}},n.a.createElement("option",{value:"planets"},"planets"),n.a.createElement("option",{value:"starships"},"starships"),n.a.createElement("option",{value:"vehicles"},"vehicles"),n.a.createElement("option",{value:"people"},"characters"),n.a.createElement("option",{value:"films"},"films"),n.a.createElement("option",{value:"species"},"species")),n.a.createElement("button",null,"Submit")))}}]),t}(r.Component);function f(e){return n.a.createElement("div",null,n.a.createElement("ul",null,e.results.map(function(e,t){return n.a.createElement("li",{key:t},e)})))}var v=function(e){function t(){var e,a;Object(l.a)(this,t);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(a=Object(u.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(n)))).state={error:null},a}return Object(h.a)(t,e),Object(o.a)(t,[{key:"componentDidCatch",value:function(e){console.log(e),this.setState({error:e})}},{key:"render",value:function(){return console.log(this.state.error),this.state.hasError?n.a.createElement("main",{className:"error-page"},n.a.createElement("h1",null,"Something seems to have gone wrong"),n.a.createElement("p",null,"Try refreshing the page")):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){console.log(e),this.setState({error:e})}}]),t}(r.Component),E=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(i.a)(t).call(this,e))).state={results:[]},a.searchResults=a.searchResults.bind(Object(m.a)(Object(m.a)(a))),a}return Object(h.a)(t,e),Object(o.a)(t,[{key:"searchResults",value:function(e){var t=e.map(function(e){return e.name});this.setState({results:t})}},{key:"render",value:function(){return n.a.createElement("div",{className:"App"},n.a.createElement("header",{className:"App-header"},"Star Wars Search App"),n.a.createElement(v,null,n.a.createElement(p,{searchResults:this.searchResults}),n.a.createElement(f,{results:this.state.results})))}}]),t}(r.Component);c.a.render(n.a.createElement(E,null),document.getElementById("root"))},9:function(e,t,a){e.exports=a(16)}},[[9,1,2]]]);
//# sourceMappingURL=main.34032dd6.chunk.js.map